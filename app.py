import streamlit as st
import random

questions = [
   {
              "q":"ä¸€èˆ¬ä½å®…ã®å±‹å†…é…ç·šã§ã€ŒVVFã‚±ãƒ¼ãƒ–ãƒ«ã€ã‚’ä½¿ç”¨ã™ã‚‹ç›®çš„ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã®ã¯ã©ã‚Œï¼Ÿ",
"choices": [ 
           "1: é«˜é›»åœ§ã‚’é•·è·é›¢é€é›»ã™ã‚‹ãŸã‚", 
           "2: å±‹å†…ã®å›ºå®šé…ç·šã«ä½¿ã†ãŸã‚", 
           "3: åœ°ä¸­ã«ç›´æ¥åŸ‹è¨­ã™ã‚‹ãŸã‚", 
           "4: é˜²çˆ†ã‚¨ãƒªã‚¢ã§ä½¿ç”¨ã™ã‚‹ãŸã‚" 
],
"correct": "2",
"info": "VVFã‚±ãƒ¼ãƒ–ãƒ«ã¯ä½å®…ãªã©ã®å±‹å†…ã®å›ºå®šé…ç·šã«ä½¿ã‚ã‚Œã‚‹ã‚±ãƒ¼ãƒ–ãƒ«ã ã­ï¼çµ¶ç¸ä½“ã¨è¢«è¦†ãŒä¸€ä½“åŒ–ã—ã¦ã„ã¦æ–½å·¥ã—ã‚„ã™ã„ã®ãŒç‰¹å¾´ã ã‚ˆã€‚"
    },
   
  { 
       "q": "é›»ç·šã®å¤ªã•ã‚’è¡¨ã™å˜ä½ã¯ã©ã‚Œï¼Ÿ", 
"choices": [ 
         "1: mmÂ²", 
         "2: kg", 
         "3: V", 
         "4: A" 
], 
"correct": "1", 
"info": "é›»ç·šã®å¤ªã•ã¯mmÂ²ï¼ˆå¹³æ–¹ãƒŸãƒªãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰ã§è¡¨ã™ã‚ˆã€‚å¤ªã•ãŒå¤§ãã„ã»ã©é›»æµã‚’å¤šãæµã›ã‚‹ã‚“ã ã€‚" 
    } ,
   
{ "q": "ä¸€èˆ¬çš„ãªä½å®…ç”¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆå›è·¯ï¼ˆ20Aï¼‰ã®é›»ç·šå¤ªã•ã¨ã—ã¦æ­£ã—ã„ã®ã¯ã©ã‚Œï¼Ÿ", 
"choices": [ 
      "1: 1.6mm", 
      "2: 2.0mm", 
      "3: 3.2mm", 
      "4: 5.5mm" 
], 
 "correct": "2", 
 "info": "ä½å®…ã®20Aã‚³ãƒ³ã‚»ãƒ³ãƒˆå›è·¯ã¯2.0mmã®VVFã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã ã‚ˆã€‚" 
   },

{ "q": "æ¼é›»é®æ–­å™¨ï¼ˆELBï¼‰ã®ä¸»ãªå½¹å‰²ã¯ã©ã‚Œï¼Ÿ", 
"choices": [ 
   "1: éé›»æµã‚’é˜²æ­¢ã™ã‚‹", 
   "2: é›·ã‚µãƒ¼ã‚¸ã‚’é˜²æ­¢ã™ã‚‹", 
   "3: æ¼é›»ã‚’æ¤œå‡ºã—ã¦å›è·¯ã‚’é®æ–­ã™ã‚‹", 
   "4: é›»åœ§ã‚’å®‰å®šã•ã›ã‚‹" ], 
 "correct": "3", 
 "info": "æ¼é›»é®æ–­å™¨ã¯æ¼é›»ã‚’æ¤œå‡ºã—ã¦å›è·¯ã‚’é®æ–­ã—ã€æ„Ÿé›»ã‚„ç«ç½ã‚’é˜²ããŸã‚ã®è£…ç½®ã ã‚ˆã€‚" 
   },

{ "q": "ä¸‰è·¯ã‚¹ã‚¤ãƒƒãƒã‚’ä½¿ã†ç›®çš„ã¨ã—ã¦æ­£ã—ã„ã®ã¯ã©ã‚Œï¼Ÿ", 
 "choices": [ 
    "1: 2ã¤ã®å ´æ‰€ã‹ã‚‰1ã¤ã®ç…§æ˜ã‚’æ“ä½œã™ã‚‹ãŸã‚", 
    "2: 3ã¤ã®ç…§æ˜ã‚’åŒæ™‚ã«ç‚¹ç¯ã•ã›ã‚‹ãŸã‚", 
    "3: 3ç›¸é›»æºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚", 
    "4: éå¸¸ç”¨ç…§æ˜ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚" ], 
 "correct": "1", 
 "info": "ä¸‰è·¯ã‚¹ã‚¤ãƒƒãƒã¯éšæ®µã‚„å»Šä¸‹ãªã©ã€2ã‹æ‰€ã‹ã‚‰1ã¤ã®ç…§æ˜ã‚’æ“ä½œã—ãŸã„ã¨ãã«ä½¿ã†ã‚ˆã€‚" 
    },

   { "q": "ã“ã®å›³è¨˜å·ãŒç¤ºã™æ©Ÿå™¨ã¯ã©ã‚Œï¼Ÿ", 
    "img": "images1.jpg", 
    "choices": [ 
       "1: é…ç·šç”¨é®æ–­å™¨ï¼ˆãƒ–ãƒ¬ãƒ¼ã‚«ï¼‰", 
       "2: æ¼é›»é®æ–­å™¨", 
       "3: å¤‰åœ§å™¨", 
       "4: é›»åŠ›é‡è¨ˆ" 
    ], 
"correct": "1", 
"info": "ã“ã®å›³è¨˜å·ã¯é…ç·šç”¨é®æ–­å™¨ï¼ˆãƒ–ãƒ¬ãƒ¼ã‚«ï¼‰ã ã‚ˆã€‚éé›»æµã‚’é˜²ããŸã‚ã«ä½¿ã‚ã‚Œã‚‹ä¿è­·è£…ç½®ã ã­ã€‚" 
   }
]

random.shuffle(questions)

if "index" not in st.session_state:
           st.session_state.index = 0

current = questions[st.session_state.index] 

st.write("### å•é¡Œ") 
st.write(current["q"])
if "img" in current: st.image(current["img"])

selected = st.radio("é¸æŠè‚¢ã‚’é¸ã‚“ã§ã­", current["choices"], index=None)

if st.button("å›ç­”ã™ã‚‹"):
    if selected is None:
        st.warning("é¸æŠè‚¢ã‚’é¸ã‚“ã§ã­ï¼")
    else:
        if selected.startswith(current["correct"]):
            st.success("æ­£è§£ï¼ğŸ˜Š")
            st.info(current["info"])
        else:
            st.error("ã–ã‚“ã­ã‚“ğŸ˜­")

if st.button("æ¬¡ã¸"): 
    st.session_state.index += 1
    if st.session_state.index >= len(questions): 
               st.session_state.index = 0 # æœ€å¾Œã¾ã§è¡Œã£ãŸã‚‰æœ€åˆã«æˆ»ã‚‹
    st.rerun()
